# React/Vite SPA router: send unknown paths to index.html
# Also disable MultiViews so Apache doesn't try content negotiation on pretty URLs
Options -MultiViews

<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /fmsubapp/

  # Serve files/folders that actually exist
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # Don't rewrite API calls (future-proof if frontend + API share a host)
  RewriteCond %{REQUEST_URI} !^/api/

  # Everything else -> index.html (relative path keeps it portable)
  RewriteRule . index.html [L]
</IfModule>